# タスク管理シート：天気時系列チャート SPA

## 凡例

| 記号 | 意味 |
|------|------|
| ⬜ | 未着手 |
| 🔄 | 進行中 |
| ✅ | 完了 |
| ⏸ | 保留 |

**優先度**: 高 / 中 / 低

---

## 1. 環境・基盤

| # | タスク | 優先度 | 状態 | 備考 |
|---|--------|--------|------|------|
| 1.1 | プロジェクト初期化（Next.js + TypeScript） | 高 | ✅ | 最新版推奨 |
| 1.2 | ESLint・Prettier の設定 | 中 | ⬜ | コーディング規約 |
| 1.3 | ディレクトリ構成・コンポーネント方針の決定 | 高 | ✅ | 責務分離を意識 |

---

## 2. データ・API

| # | タスク | 優先度 | 状態 | 備考 |
|---|--------|--------|------|------|
| 2.1 | 都市マスタの定義（東京・大阪・札幌・福岡・那覇の lat/lon） | 高 | ✅ | 定数または設定ファイル |
| 2.2 | Open-Meteo Forecast API の呼び出し関数の実装 | 高 | ✅ | hourly / daily パラメータ対応 |
| 2.3 | 取得パラメータの設計（forecast_days, timezone 等） | 高 | ✅ | 要件に合わせて設定 |
| 2.4 | デバウンス・キャッシュの検討・実装 | 中 | ✅ | レート制限対策 |
| 2.5 | エラーハンドリング（ネットワーク・パラメータ不正・レート制限） | 高 | ✅ | 復帰手段のメッセージ |

---

## 3. UI コンポーネント（選択式）

| # | タスク | 優先度 | 状態 | 備考 |
|---|--------|--------|------|------|
| 3.1 | 都市選択セレクトボックスの実装 | 高 | ✅ | label 付き・アクセシビリティ |
| 3.2 | 指標選択 UI の実装（セレクト or トグル） | 高 | ✅ | 気温・体感・降水量・風速等 |
| 3.3 | 期間切り替えトグル（48時間 / 7日間）の実装 | 高 | ✅ | 即時反映 |
| 3.4 | ローディング表示（スピナー / プレースホルダ） | 高 | ✅ | フェッチ中に表示 |
| 3.5 | エラー表示 UI（メッセージ・リトライ等） | 高 | ✅ | 復帰手段を明示 |

---

## 4. チャート

| # | タスク | 優先度 | 状態 | 備考 |
|---|--------|--------|------|------|
| 4.1 | チャートライブラリの選定・導入（Recharts / Chart.js 等） | 高 | ✅ | README に選定理由を記載 |
| 4.2 | 折れ線グラフの基本描画（1 指標） | 高 | ✅ | スプラインは任意 |
| 4.3 | X 軸フォーマット（時刻 / 日付） | 高 | ✅ | 48h は時刻、7日は日付 |
| 4.4 | Y 軸単位の表示 | 高 | ✅ | °C、mm、km/h 等 |
| 4.5 | ツールチップの実装 | 高 | ✅ | ホバーで値表示 |
| 4.6 | 凡例の実装 | 高 | ✅ | 指標名の表示 |
| 4.7 | 48時間（hourly）と 7日間（daily）のデータ切り替え連携 | 高 | ✅ | API とチャートの対応 |

---

## 5. 状態管理・パフォーマンス

| # | タスク | 優先度 | 状態 | 備考 |
|---|--------|--------|------|------|
| 5.1 | 選択変更時のみフェッチする設計 | 高 | ✅ | 無駄な再フェッチの防止 |
| 5.2 | メモ化の適用（コンポーネント・計算値） | 中 | ✅ | 重い再描画の回避 |
| 5.3 | （任意）SWR / React Query 等のキャッシュ導入 | 低 | ⬜ | 任意拡張 |

---

## 6. アクセシビリティ・品質

| # | タスク | 優先度 | 状態 | 備考 |
|---|--------|--------|------|------|
| 6.1 | セレクト・トグルの label と関連付け | 高 | ✅ | アクセシビリティ基本 |
| 6.2 | モーダル使用時のフォーカストラップ（モーダルを使う場合） | 中 | ⏸ | 該当する場合のみ |
| 6.3 | 型安全性の確保（TypeScript） | 高 | ✅ | API レスポンス型など |
| 6.4 | 空状態の表示（データなし時） | 中 | ✅ | 初回・エラー後など |

---

## 7. 任意拡張

| # | タスク | 優先度 | 状態 | 備考 |
|---|--------|--------|------|------|
| 7.1 | 指標の複数選択→多系列重ね描き | 低 | ⬜ | 任意 |
| 7.2 | °C / °F・風速単位の切替 | 低 | ⬜ | 任意 |
| 7.3 | 直近選択の localStorage 保持 | 低 | ⬜ | 任意 |
| 7.4 | その他オリジナル機能 | 低 | ⬜ | 任意 |

---

## 8. 提出・ドキュメント

| # | タスク | 優先度 | 状態 | 備考 |
|---|--------|--------|------|------|
| 8.1 | README 作成（起動手順・技術選定理由・ディレクトリ構成・工夫点・既知の制約） | 高 | ⬜ | 提出必須 |
| 8.2 | リポジトリの整理・プッシュ（GitHub 等） | 高 | ⬜ | 提出必須 |
| 8.3 | デモ URL の用意（Vercel 等・Basic 認証推奨） | 中 | ⬜ | 任意 |
| 8.4 | Chrome 最新版での動作確認 | 高 | ⬜ | 必須 |

---

## 進捗サマリ

| フェーズ | 総数 | 完了 | 進捗 |
|----------|------|------|------|
| 1. 環境・基盤 | 3 | 2 | 67% |
| 2. データ・API | 5 | 5 | 100% |
| 3. UI コンポーネント | 5 | 5 | 100% |
| 4. チャート | 7 | 7 | 100% |
| 5. 状態管理・パフォーマンス | 3 | 2 | 67% |
| 6. アクセシビリティ・品質 | 4 | 3 | 75% |
| 7. 任意拡張 | 4 | 0 | 0% |
| 8. 提出・ドキュメント | 4 | 0 | 0% |

**更新日**: （ここに日付を記入）
